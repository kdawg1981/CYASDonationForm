<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1 shrink-to-fit=yes">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <link href = "https://code.jquery.com/ui/1.10.4/themes/ui-lightness/jquery-ui.css"
         rel = "stylesheet">
      <script src = "https://code.jquery.com/jquery-1.10.2.js"></script>
      <script src = "https://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>
      


    <style>
        h1 {
            text-align: center;
        }

        input[id=submit] {
            background-color: #1ba7db;
        }

        .custom-switch input[id=chkTax] {
            background-color: #1ba7db;
        }
    </style>

<body>
    
    <div class="container-fluid">
        <form id="cyasForm" accept-charset="utf-8" action="https://catholicsports.foxycart.com/cart" method="POST" onload="resetForm()">
            <input name="name" type="hidden" value="Donation" />
            <input name="quantity_max" type="hidden" value="1" />
            <input name="empty" type="hidden" value="true" />
            <input name="cart" type="hidden" value="checkout" />
            <input name="sub_enddate" type="hidden" value="1d" />
            <!--<input name="__sub_startdate" type="hidden" id="subscription_startdate" value="#datepicker" /   >-->

            <div class="tab">
            <div class="form-group">
                <div id="myPurpose">
                    <div class="custom-control custom-checkbox">
                        <input type="checkbox" class="custom-control-input" id="chkJoin">
                        <label class="custom-control-label" for="chkJoin"><h5>I want to Support a Missionary</h5></label>
                    </div>
                    <select class="custom-select" name="Donation Purpose" id="non_purpose" required autofocus
                        style="display: block">
                        <option value="general">General Fund</option>
                        <option value="mission_trip">Trip: Mission or Pilgrimage</option>
                        <option value="expansion">Expansion Site</option>
                    </select>
                    <select class="custom-select" name="Donation Purpose" id="purpose" style="display: none" disabled>
                        <option value="Francis_Theresa">Francis, Theresa - National Program Director - Support Team
                        </option>
                        <option value="Mann_Anna">Mann, Anna - IL Outreach Coordinator - Support Team</option>
                        <option value="Messing_Georgie">Messing, Georgie - CO Outreach Coordinator - Support Team</option>
                        <option value="Syversen_Gunnar">Syversen, Gunnar - CO Outreach Coordinator - Support Team
                        </option>
                        <option value="Townsend_Angela">Townsend, Angela - CO Outreach Coordinator - Support Team
                        </option>
                        <option value="Yao_Daniel">Yao, Daniel - CA Outreach Coordinator - Support Team</option>
                    </select>
                </div>
                <br>

                <div id="price">
                    <h5>Please choose the amount you wish to Donate</h5>

                    <div class="btn-group btn-group-toggle" data-toggle="buttons">
                        <label class="btn btn-secondary">
                            <input type="radio" name="price" id="price1" value="25">$25
                        </label>
                        <label class="btn btn-secondary">
                            <input type="radio" name="price" id="price2" value="50">$50
                        </label>
                        <label class="btn btn-secondary">
                            <input type="radio" name="price" id="price3" value="100">$100
                        </label>
                        <label class="btn btn-secondary">
                            <input type="radio" name="price" id="price4" value="200">$200
                        </label>
                        <label class="btn btn-secondary">
                            <input type="radio" name="price" id="mbg">My Best Gift
                        </label>
                    </div>
                    
                    <div class="input-group mb-3">
                        <div class="input-group-prepend">
                            <span class="input-group-text">$</span>
                        </div>
                        <input type="text" name="price" class="form-control" id="cPrice" disabled aria-label="Amount (to the nearest dollar)"
                            placeholder="My Best Gift">
                        <div class="input-group-append">
                            <span class="input-group-text">.00</span>
                        </div>
                    </div>
                    

                    <h5>Would you like to cover the 3% fees?</h5>
                    <div class="btn-group btn-group-toggle" data-toggle="buttons">
                        <label class="btn btn-secondary">
                            <input type="radio" name="options" id="cover_fee" value="Yes{y:cover_fee}" checked>Yes
                        </label>
                        <label class="btn btn-secondary">
                            <input type="radio" name="options" id="cover_fee" value="No">No
                        </label>
                    </div>
                    <div class="row">
                        <br>
                    </div>
                    
                <div class="row">
                    <div class="col">
                        <h5>Donation Frequency</h5>
                        <div class="btn-group btn-group-toggle" data-toggle="buttons">
                            <label class="btn btn-secondary">
                                <input type="radio" name="sub_frequency" id="subFreq" value="1m">Monthly
                            </label>
                            <label class="btn btn-secondary">
                                <input type="radio" name="sub_frequency" id="subFreq" value="3m">Quarterly
                            </label>
                            <label class="btn btn-secondary">
                                <input type="radio" name="sub_frequency" id="subFreq" value="6m">2X Annually
                            </label>
                            <label class="btn btn-secondary">
                                <input type="radio" name="sub_frequency" id="subFreq" value="1y">Annually
                            </label>
                            <label class="btn btn-secondary">
                                <input type="radio" name="sub_frequency" id="one-time" value="1d">One-time Gift
                            </label>
                        </div>
                    </div>
                </div>
                    
                <div class="col">
                    <label id="ss" for="sub_startdate">Start & Recur Date (<i>if today, leave this blank - skip it</i>):</label><br>
                    <input class="form-control" type="text" name="sub_startdate" id="datepicker" value="">
                </div>
                    

                    <div class="row">
                        <br>
                    </div>

                    <div class="row">
                        <div class="col">
                        <h5>Choose your Payment Method:</h5>
                        <select class="custom-select" name="template_set" id="pay_meth">
                            <option selected value="DEFAULT">Bank Account ACH (Preferred)</option>
                            <option value="credit_debit">Debit/Credit Card</option>
                        </select>
                        </div>
                    </div>
                    
                    <div class="row">
                        <br>
                    </div>
                
            </div>

            <div class="tab">
                <div class="row">
                    <div class="col">
                    <h5>Anonymous Level:</h5>
                    <select class="custom-select" name="Anonymous Level" id="level">
                        <option value="not_necessary" id="nn">Not Necessary</option>
                        <option value="Anonymous_pub" id="anonPub">Anonymous in Publications</option>
                        <option value="comp_Anony" id="compAnony">Completely Anonymous (No Tax Receipt)</option>
                    </select>
                </div>
                <div class="col">
                    <h5>Receive Email Updates:</h5>
                    <select class="custom-select" name="Receive Email Updates" id="email_update">
                            <option value="Yes" id="emailYes">Yes, Please keep me updated by email.</option>
                            <option value="No_Only" id="emailNo">No, Please only have my missionary send me newsletters.</option>
                            <option value="No" id="none">No, I do not need updates on the mission or the missionary.</option>
                    </select>
                </div>
                <div class="col">
                    <div class="custom-control custom-switch">
                        <input type="checkbox" class="custom-control-input" name="Tax Receipt" id="chkTax" value="yes" checked>
                        <label class="custom-control-label" for="chkTax">Yes, Please EMAIL MY TAX-RECEIPT in January</label>
                    </div>
                    
                </div>
                
                </div>
                <div class="row">
                    <div class="col">
                        <br>
                        <label for="Special Notes">Special Notes for Processing Team or Missionary:</label>
                        <textarea class="form-control" id="spec_note" name="Special Note" maxlength="500" rows="3" placeholder="(sample) Keep up the good work! We are praying for you."></textarea>(<span id="note">500 </span> chars left)
                    </div>
                    <div class="col">
                        <br>
                            <label for="Prayer Request">Prayer Requests for Our Staff:</label><br>
                            <textarea class="form-control" name="Prayer Intentions" maxlength="500" rows="3" cols="35" id="pray_int" placeholder="We pray nearly everyday for your intentions, would you like to give us something specific for our prayers?"></textarea>(<span id="prayers">500 </span> chars left)
                    </div>
                </div>
            </div>
        </div>
        <br>
<script data-cfasync="false" src="https://cdn.foxycart.com/cyas/loader.js" async defer></script>
<!-- /FOXYCART -->

    <script>
        var maxLength = 500;
        $('#spec_note').keyup(function() {
            var length = $(this).val().length;
            var length = maxLength-length;
            $('#note').text(length);
        });
    </script>

    <script>
        var maxLength = 500;
        $('#pray_int').keyup(function() {
            var length = $(this).val().length;
            var length = maxLength-length;
            $('#prayers').text(length);
        });
    </script>
    
    <script>
        $(function(){
            $("input[name='price']").click(function() {
                if($("#mbg").is(":checked")) {
                    $("#cPrice").removeAttr("disabled");
                    $("#cPrice").focus();
                } else {
                    $("#cPrice").attr("disabled", "disabled");
               
                }
            });
        });
    </script>

    <script>
        $(document).ready(function(){
            $("#chkJoin").change(function(){
                if(this.checked != false){
                    $("#non_purpose").hide();
                    $("#purpose").show();
                    $("#non_purpose").removeAttr("required");
                    $("#non_purpose").removeAttr("autofocus");
                    $("#purpose").removeAttr("disabled");
                    $("purpose").attr("required", "required");
                    $("#purpose").attr("autofocus", "autofocus");
                }
                else {
                    $("#purpose").hide();
                    $("#non_purpose").show();
                    $("#purpose").attr("disabled", "disabled");
                    $("#non_purpose").attr("required", "required");
                    $("#non_purpose").attr("autofocus", "autofocus")
                    $("#purpose").removeAttr("required");
                    $("#purpose").removeAttr("autofocus");

                }
            });
        });
    </script>

    <script>
        $(document).ready(function(){
            $("#submit").click(function(){
                var value = $("#datepicker").val();
                if(value==""){
                    $("#datepicker").removeAttr("required");
                }
            });
        });
    </script>

   <script>
        $(document).ready(function(){
            $("#level").change(function(){
                var value = $("#level").val();
                if(value=="comp_Anony"){
                    $("#chkTax").attr("disabled", "disabled");
                    $("#chkTax").removeAttr("checked");
                    $("#emailYes").hide();
                    $("#emailNo").hide();
                    $("#none").attr("selected", "selected");
                }
                else {
                    $("#chkTax").removeAttr("disabled");
                    $("#chktax").attr("checked", "checked");
                    $("#emailYes").show();
                    $("#emailNo").show();
                    $("#none").removeAttr("selected");
                }
            });
        });
    </script>

    

<script>
$(function(){ //on document.ready
    $('#datepicker').datepicker({
        dateFormat: 'yy-mm-dd',
        onSelect: function (selectedDate, dateField) {
            calcEndDate(selectedDate);
        }
    });
    $("#subFreq").on("change", function () {calcEndDate() });
    $("#datepicker").on("change", function () {calcEndDate() });
});

function calcEndDate(selectedDate) {
    var endDate = "";
    selectedDate = selectedDate || $("#datepicker").val();
    if (selectedDate != "" && jQuery("#one-time").is(":selected")) {
        jQuery("#one-time").val("1d");
	 var selected = new Date(selectedDate + " 00:00:00"); 
	 selected.setDate(selected.getDate() + 0);	
        endDate = selected.getFullYear() + "-" + ("0"+(selected.getMonth()+1)).slice(-2) + "-" + ("0" + selected.getDate()).slice(-2);	
    } else {	
        jQuery("#one-time").val("1d");
    }
    $("input[name='sub_enddate']").val(endDate);
}
</script>
<script>
   /* function toggleSubscription() {
        if (jQuery("#subFreq").val() == "1d") {
            jQuery("#subscription_startdate").attr("name", "__sub_startdate");
        } else {
            jQuery("#subscription_startdate").attr("name", "sub_startdate");
        }
    }

    jQuery(document).ready(function() {
        jQuery("#subFreq").change(function() {
            toggleSubscription();
        });
        toggleSubscription();
    });*/
</script>

                    <section id="Submit">
                        <input class="btn btn-primary btn-block" type="submit" value="Continue to Payment Information" id="submit"/>
                    </section>
        </form>
        <script>
                function resetForm() {
                    document.getElementById("cyasForm").reset();
                }
            </script>
    </div>
</body>
</head>

</html>