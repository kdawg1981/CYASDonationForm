<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1 shrink-to-fit=yes">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    

    <style>
       
    </style>

</head>

<body>
    <form id="cyasForm" accept-charset="utf-8" action="https://cyas.foxycart.com/cart" method="POST">
        <input name="name" type="hidden" value="Donation" />
        <input name="quantity_max" type="hidden" value="1" />
        <input name="empty" type="hidden" value="true" />
        <input name="cart" type="hidden" value="checkout" />
        <input name="sub_enddate" type="hidden" value="" />

        <h1>Catholic Young Adult Sports Donation</h1>
    <div class="container">
        <!-- Beginning of the Step Form-->
        <div class="tab">
            <section id="myPurpose">
                <input class="w3-check" type="checkbox" id="chkJoin" />
                <label id="donate">I Want to Support a Missionary<br></label>
                <br>
                <select class="custom-select" name="Donation Purpose" id="non_purpose" required autofocus
                    style="display: block">
                    <option value="general">General Fund</option>
                    <option value="mission_trip">Trip: Mission or Pilgrimage</option>
                    <option value="expansion">Expansion Site</option>
                </select>

                <select class="custom-select" name="Donation Purpose" id="purpose" style="display: none" disabled>
                    <option value="Francis_Theresa">Francis, Theresa - National Program Director - Support Team</option>
                    <option value="Mann_Anna">Mann, Anna - IL Outreach Coordinator - Support Team</option>
                    <option value="Palen_James">Palen, James - CA Outreach Coordinator - Support Team</option>
                    <option value="Syversen_Gunnar">Syversen, Gunnar - CO Outreach Coordinator - Support Team</option>
                    <option value="Townsend_Angela">Townsend, Angela - CO Outreach Coordinator - Support Team</option>
                    <option value="Yao_Daniel">Yao, Daniel - CA Outreach Coordinator - Support Team</option>
            </section>
            
            <section id="price">
                <label>Donation Amount:</label>
                <input name="price" required type="text" value="" id="price" placeholder="Custom Amount"
                    class="form-control" />
            </section>
            <br>
            <section>
                <label for="cover_processing_fee">Would you like to cover the 3%?</label><br>
                <select class="form-control" name="Cover Processing Fee" id="cover_fee">
                    <option value="Yes{y:cover_fee}">Yes</option>
                    <option value="No">No</option>
                </select>
            </section>
            <br>
            <section>
                <label for="sub_frequency">Donation Frequency:</label><br>
                <select name="sub_frequency" id="subFreq" class="form-control">
                    <option value="1m">Monthly (Preferred)</option>
                    <option value="3m">Quarterly</option>
                    <option value="6m">2X Annually</option>
                    <option value="1y">Annually</option>
                    <option id="one-time" value="1d">One-time</option>
                </select>
                <br>
                <label id="ss" for="sub_startdate">Start & Recur Date (<i>if today, leave this blank - skip
                        it</i>):</label><br>
                <input name="sub_startdate" type="text" id="date" value="" class="form-control">
            </section>
            <br>
            <section>
                <label for="Payment_meth">Payment Method:</label><br>
                <select class="form-control" name="template_set" id="pay_meth">
                    <option value="DEFAULT">Bank Account ACH (Preferred)</option>
                    <option value="credit_debit">Debit/Credit Card</option>
                </select>
            </section>
        </div>
        <div class="tab">
            <h2>Contact Information and Notes</h2>
            <section>
                <label>Anonymous Level:</label>
                <select class="form-control" name="Anonymous Level" id="level">
                    <option value="not_necessary" id="nn">Not Necessary</option>
                    <option value="Anonymous_pub" id="anonPub">Anonymous in Publications</option>
                    <option value="comp_Anony" id="compAnony">Completely Anonymous (No Tax Receipt)</option>
                </select>
            </section>
            <br>
            <section>
                <label for="Receive_Email" id="email">Receive Email Updates:</label><br>
                <select name="Receive Email Updates" id="email_update" class="form-control">
                    <option value="Yes" id="emailYes">Yes, Please keep me updated by email.</option>
                    <option value="No_Only" id="emailNo">No, Please only have my missionary send me newsletters.
                    </option>
                    <option value="No" id="none">No, I do not need updates on the mission or the missionary.</option>
                </select>
            </section>
            <br>
            <section class="form-check-inline">
                <input type="checkbox" id="chkTax" name="Tax Receipt" value="yes" checked>
                <label for="Tax Receipts" class="taxReceipt" id="receipt">Yes, Please EMAIL MY TAX-RECEIPT in January
                </label>
            </section>
            <br><br>
            <section>
                <label for="Special Notes">Special Notes for Processing Team or Missionary:</label><br>
                <textarea class="form-control" name="Special Note" maxlength="500" rows="3" cols="35" id="spec_note"
                    placeholder="(sample) Keep up the good work! We are praying for you."></textarea>(<span
                    id="note">500 </span> chars left)
            </section>
            <br>
            <section>
                <label for="Prayer Request">Prayer Requests for Our Staff:</label><br>
                <textarea class="form-control" name="Prayer Intentions" maxlength="500" rows="3" cols="35" id="pray_int"
                    placeholder="We pray nearly everyday for your intentions, would you like to give us something specific for our prayers?"></textarea>(<span
                    id="prayers">500 </span> chars left)
            </section>
            <br>
            <!--<div style="overflow:auto;">
                <div style="float:right;">
                    <button type="button" id="prevBtn" onclick="nextPrev(-1)">Previous</button>
                    <button type="button" id="nextBtn" onclick="nextPrev(1)">Next</button>
                </div>
            </div> -->
            <!-- Circles which indicates the steps of the form: -->
            <!--<div style="text-align:center;margin-top:40px;">
                <span class="step"></span>
                <span class="step"></span>
            </div>-->

            <script data-cfasync="false" src="https://cdn.foxycart.com/cyas/loader.js" async defer></script>
            <!-- /FOXYCART -->

            <script>
                var maxLength = 500;
                $('#spec_note').keyup(function () {
                    var length = $(this).val().length;
                    var length = maxLength - length;
                    $('#note').text(length);
                });
            </script>

            <script>
                var maxLength = 500;
                $('#pray_int').keyup(function () {
                    var length = $(this).val().length;
                    var length = maxLength - length;
                    $('#prayers').text(length);
                });
            </script>

            <script>
                $(document).ready(function () {
                    $("#chkJoin").change(function () {
                        if (this.checked != false) {
                            $("#non_purpose").hide();
                            $("#purpose").show();
                            $("#non_purpose").removeAttr("required");
                            $("#non_purpose").removeAttr("autofocus");
                            $("#purpose").removeAttr("disabled");
                            $("purpose").attr("required", "required");
                            $("#purpose").attr("autofocus", "autofocus");
                        }
                        else {
                            $("#purpose").hide();
                            $("#non_purpose").show();
                            $("#purpose").attr("disabled", "disabled");
                            $("#non_purpose").attr("required", "required");
                            $("#non_purpose").attr("autofocus", "autofocus")
                            $("#purpose").removeAttr("required");
                            $("#purpose").removeAttr("autofocus");

                        }
                    });
                });
            </script>

            <script>
                $(document).ready(function () {
                    $("#submit").click(function () {
                        var value = $("#date").val();
                        if (value == "") {
                            $("#date").removeAttr("required");
                        }
                    });
                });
            </script>

            <script>
                $(document).ready(function () {
                    $("#level").change(function () {
                        var value = $("#level").val();
                        if (value == "comp_Anony") {
                            $("#chkTax").attr("disabled", "disabled");
                            $("#chkTax").removeAttr("checked");
                            $("#emailYes").hide();
                            $("#emailNo").hide();
                            $("#none").attr("selected", "selected");
                        }
                        else {
                            $("#chkTax").removeAttr("disabled");
                            $("#chktax").attr("checked", "checked");
                            $("#emailYes").show();
                            $("#emailNo").show();
                            $("#none").removeAttr("selected");
                        }
                    });
                });
            </script>

            <script>
                jQuery(function ($) { //on document.ready
                    $('#date').datepicker({
                        dateFormat: 'yy-mm-dd',
                        onSelect: function (selectedDate, dateField) {
                            calcEndDate(selectedDate);
                        }
                    });
                    $("#subFreq").on("change", function () { calcEndDate() });
                    $("#date").on("change", function () { calcEndDate() });
                });

                function calcEndDate(selectedDate) {
                    var endDate = "";
                    selectedDate = selectedDate || $("#date").val();
                    if (selectedDate != "" && jQuery("#one-time").is(":selected")) {
                        jQuery("#one-time").val("1d");
                        var selected = new Date(selectedDate + " 00:00:00");
                        selected.setDate(selected.getDate() + 1);
                        endDate = selected.getFullYear() + "-" + ("0" + (selected.getMonth() + 1)).slice(-2) + "-" + ("0" + selected.getDate()).slice(-2);
                    } else {
                        jQuery("#one-time").val("");
                    }
                    $("input[name='sub_enddate']").val(endDate);
                }
            </script>

            <section id="Submit">
                <input class="btn-block" type="submit" value="Continue to Payment Information" id="submit" />
            </section>

    </form>
    <script>
        function resetForm() {
            document.getElementById("cyasForm").reset();
        }
    </script>
    </div>
    </form>
</body>
</html>